import copy

print("=" * 60)
print("Python æµ…æ‹·è´(Shallow Copy) vs æ·±æ‹·è´(Deep Copy) æ•™å­¦æ¡ˆä¾‹")
print("=" * 60)

# ==================== æ¡ˆä¾‹1: ç®€å•åˆ—è¡¨(ä¸€ç»´) ====================
print("\nã€æ¡ˆä¾‹1ã€‘ç®€å•åˆ—è¡¨çš„æ‹·è´")
print("-" * 60)

original_list = [1, 2, 3, 4, 5]
shallow_copy = original_list.copy()  # æˆ–è€… list(original_list) æˆ– original_list[:]
deep_copy = copy.deepcopy(original_list)

print(f"åŸå§‹åˆ—è¡¨: {original_list}")
print(f"æµ…æ‹·è´: {shallow_copy}")
print(f"æ·±æ‹·è´: {deep_copy}")

# ä¿®æ”¹æµ…æ‹·è´
shallow_copy[0] = 999
print(f"\nä¿®æ”¹æµ…æ‹·è´å:")
print(f"åŸå§‹åˆ—è¡¨: {original_list}  â† ä¸å—å½±å“")
print(f"æµ…æ‹·è´: {shallow_copy}  â† å·²ä¿®æ”¹")

print("\nğŸ’¡ ç»“è®º: å¯¹äºç®€å•æ•°æ®ç±»å‹,æµ…æ‹·è´å’Œæ·±æ‹·è´æ•ˆæœç›¸åŒ")

# ==================== æ¡ˆä¾‹2: åµŒå¥—åˆ—è¡¨(å¤šç»´) ====================
print("\n\nã€æ¡ˆä¾‹2ã€‘åµŒå¥—åˆ—è¡¨çš„æ‹·è´ - å…³é”®åŒºåˆ«!")
print("-" * 60)

original_nested = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
shallow_copy_nested = original_nested.copy()
deep_copy_nested = copy.deepcopy(original_nested)

print(f"åŸå§‹åˆ—è¡¨: {original_nested}")
print(f"æµ…æ‹·è´: {shallow_copy_nested}")
print(f"æ·±æ‹·è´: {deep_copy_nested}")

# ä¿®æ”¹æµ…æ‹·è´ä¸­çš„åµŒå¥—å¯¹è±¡
print("\n--- ä¿®æ”¹æµ…æ‹·è´ä¸­çš„åµŒå¥—åˆ—è¡¨ ---")
shallow_copy_nested[0][0] = 999
print(f"åŸå§‹åˆ—è¡¨: {original_nested}  â† è¢«å½±å“äº†!")
print(f"æµ…æ‹·è´: {shallow_copy_nested}  â† å·²ä¿®æ”¹")
print(f"æ·±æ‹·è´: {deep_copy_nested}  â† ä¸å—å½±å“")

print("\nâš ï¸  å…³é”®åŒºåˆ«: æµ…æ‹·è´åªå¤åˆ¶å¤–å±‚å®¹å™¨,å†…å±‚å¯¹è±¡ä»æ˜¯å¼•ç”¨!")

# ä¿®æ”¹æ·±æ‹·è´
print("\n--- ä¿®æ”¹æ·±æ‹·è´ä¸­çš„åµŒå¥—åˆ—è¡¨ ---")
deep_copy_nested[1][1] = 888
print(f"åŸå§‹åˆ—è¡¨: {original_nested}  â† ä¸å—å½±å“")
print(f"æ·±æ‹·è´: {deep_copy_nested}  â† å·²ä¿®æ”¹")

# ==================== æ¡ˆä¾‹3: åŒ…å«å¯¹è±¡çš„åˆ—è¡¨ ====================
print("\n\nã€æ¡ˆä¾‹3ã€‘åŒ…å«å¯¹è±¡çš„åˆ—è¡¨")
print("-" * 60)


class Student:
    def __init__(self, name, scores):
        self.name = name
        self.scores = scores

    def __repr__(self):
        return f"Student('{self.name}', {self.scores})"


students = [
    Student("å¼ ä¸‰", [85, 90, 88]),
    Student("æå››", [92, 87, 95])
]

shallow_students = students.copy()
deep_students = copy.deepcopy(students)

print(f"åŸå§‹å­¦ç”Ÿåˆ—è¡¨:\n{students}")

# ä¿®æ”¹æµ…æ‹·è´ä¸­çš„å¯¹è±¡å±æ€§
print("\n--- ä¿®æ”¹æµ…æ‹·è´ä¸­å­¦ç”Ÿçš„æˆç»© ---")
shallow_students[0].scores[0] = 100
print(f"åŸå§‹åˆ—è¡¨: {students[0]}  â† è¢«å½±å“äº†!")
print(f"æµ…æ‹·è´: {shallow_students[0]}  â† å·²ä¿®æ”¹")
print(f"æ·±æ‹·è´: {deep_students[0]}  â† ä¸å—å½±å“")

# ä¿®æ”¹æ·±æ‹·è´
print("\n--- ä¿®æ”¹æ·±æ‹·è´ä¸­å­¦ç”Ÿçš„æˆç»© ---")
deep_students[1].scores[0] = 100
print(f"åŸå§‹åˆ—è¡¨: {students[1]}  â† ä¸å—å½±å“")
print(f"æ·±æ‹·è´: {deep_students[1]}  â† å·²ä¿®æ”¹")

# ==================== æ¡ˆä¾‹4: å­—å…¸çš„æ‹·è´ ====================
print("\n\nã€æ¡ˆä¾‹4ã€‘å­—å…¸çš„æ‹·è´")
print("-" * 60)

original_dict = {
    'name': 'å°æ˜',
    'age': 20,
    'courses': ['Python', 'Java', 'C++'],
    'address': {'city': 'åŒ—äº¬', 'district': 'æµ·æ·€'}
}

shallow_dict = original_dict.copy()
deep_dict = copy.deepcopy(original_dict)

print(f"åŸå§‹å­—å…¸: {original_dict}")

# ä¿®æ”¹æµ…æ‹·è´ä¸­çš„åµŒå¥—å¯¹è±¡
print("\n--- ä¿®æ”¹æµ…æ‹·è´ä¸­çš„åµŒå¥—åˆ—è¡¨å’Œå­—å…¸ ---")
shallow_dict['courses'].append('Go')
shallow_dict['address']['district'] = 'æœé˜³'

print(f"åŸå§‹å­—å…¸: {original_dict}")
print(f"  â†‘ courseså’Œaddresséƒ½è¢«ä¿®æ”¹äº†!")
print(f"æµ…æ‹·è´: {shallow_dict}")

# ä¿®æ”¹æ·±æ‹·è´
print("\n--- ä¿®æ”¹æ·±æ‹·è´ ---")
deep_dict['courses'].append('Rust')
deep_dict['address']['city'] = 'ä¸Šæµ·'

print(f"åŸå§‹å­—å…¸: {original_dict}  â† ä¸å—å½±å“")
print(f"æ·±æ‹·è´: {deep_dict}  â† å·²ä¿®æ”¹")

# ==================== æ€»ç»“ ====================
print("\n\n" + "=" * 60)
print("ğŸ“š æ ¸å¿ƒæ€»ç»“")
print("=" * 60)
print("""
1. æµ…æ‹·è´ (Shallow Copy):
   - åˆ›å»ºæ–°å®¹å™¨,ä½†å†…éƒ¨å…ƒç´ ä»æ˜¯åŸå¯¹è±¡çš„å¼•ç”¨
   - æ–¹æ³•: list.copy(), dict.copy(), copy.copy()
   - é€‚ç”¨åœºæ™¯: ç®€å•æ•°æ®ç±»å‹çš„åˆ—è¡¨/å­—å…¸

2. æ·±æ‹·è´ (Deep Copy):
   - é€’å½’å¤åˆ¶æ‰€æœ‰å±‚çº§çš„å¯¹è±¡,å®Œå…¨ç‹¬ç«‹
   - æ–¹æ³•: copy.deepcopy()
   - é€‚ç”¨åœºæ™¯: åµŒå¥—ç»“æ„ã€åŒ…å«å¯å˜å¯¹è±¡

3. è®°å¿†å£è¯€:
   æµ…æ‹·è´ = å¤åˆ¶å®¹å™¨,å…±äº«å†…å®¹
   æ·±æ‹·è´ = å®Œå…¨å…‹éš†,äº’ä¸å½±å“

4. å†…å­˜è§†è§’:
   æµ…æ‹·è´: æ–°å®¹å™¨æŒ‡å‘åŒä¸€å†…å­˜åœ°å€çš„å¯¹è±¡
   æ·±æ‹·è´: æ–°å®¹å™¨æŒ‡å‘å…¨æ–°å†…å­˜åœ°å€çš„å¯¹è±¡å‰¯æœ¬
""")

# ==================== å¯è§†åŒ–è¾…åŠ©ç†è§£ ====================
print("\n" + "=" * 60)
print("ğŸ¨ å¯è§†åŒ–ç†è§£")
print("=" * 60)
print("""
åŸå§‹åˆ—è¡¨: original = [[1, 2], [3, 4]]
                       â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  å¤–å±‚åˆ—è¡¨å®¹å™¨               â”‚
        â”‚  [æŒ‡å‘åˆ—è¡¨A, æŒ‡å‘åˆ—è¡¨B]     â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“           â†“
           åˆ—è¡¨A: [1,2]  åˆ—è¡¨B: [3,4]

æµ…æ‹·è´: shallow = original.copy()
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  æ–°çš„å¤–å±‚åˆ—è¡¨å®¹å™¨             â”‚
        â”‚  [æŒ‡å‘åˆ—è¡¨A, æŒ‡å‘åˆ—è¡¨B]  â† è¿˜æ˜¯æŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨!
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“           â†“
           åˆ—è¡¨A: [1,2]  åˆ—è¡¨B: [3,4]  â† å…±äº«!

æ·±æ‹·è´: deep = copy.deepcopy(original)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  æ–°çš„å¤–å±‚åˆ—è¡¨å®¹å™¨             â”‚
        â”‚  [æŒ‡å‘åˆ—è¡¨A', æŒ‡å‘åˆ—è¡¨B']     â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“           â†“
         åˆ—è¡¨A': [1,2]  åˆ—è¡¨B': [3,4]  â† å…¨æ–°å‰¯æœ¬!
""")

print("\nè¿è¡Œå®Œæˆ! å»ºè®®å¤šæ¬¡è¿è¡Œå¹¶ä¿®æ”¹ä»£ç æ¥åŠ æ·±ç†è§£ ğŸ“")